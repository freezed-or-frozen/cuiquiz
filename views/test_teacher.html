<!doctype html>
<html lang="fr">
<head>
    <!-- Required meta tags -->
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

    <!-- To fix the bug with Apple smartphones ? -->
    <meta http-equiv="Content-Security-Policy" content="default-src data: gap://* file://* https://ssl.gstatic.com *; img-src 'self' * data:; style-src 'self' 'unsafe-inline' *; script-src 'self' 'unsafe-eval' 'unsafe-inline' *; connect-src 'self' * ws://* wss://*;">

    <!-- Bootstrap CSS -->
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.4.1/css/bootstrap.min.css" integrity="sha384-Vkoo8x4CGsO3+Hhxv8T/Q5PaXtkKtu6ug5TOeNV6gBiFeWPGFN9MuhOf23Q9Ifjh" crossorigin="anonymous">
    <link rel="stylesheet" href="//code.jquery.com/ui/1.13.1/themes/base/jquery-ui.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.4.0/styles/default.min.css">
    <!--<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.65.1/codemirror.min.css" integrity="sha512-uf06llspW44/LZpHzHT6qBOIVODjWtv4MxCricRxkzvopAlSWnTf6hpZTFxuuZcuNE9CBQhqE0Seu1CoRk84nQ==" crossorigin="anonymous" referrerpolicy="no-referrer" />
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.65.1/theme/monokai.min.css" integrity="sha512-R6PH4vSzF2Yxjdvb2p2FA06yWul+U0PDDav4b/od/oXf9Iw37zl10plvwOXelrjV2Ai7Eo3vyHeyFUjhXdBCVQ==" crossorigin="anonymous" referrerpolicy="no-referrer" />-->
    
    <!-- Custom CSS -->
    <link rel="stylesheet" href="css/custom.css" />
   

    <!-- Javascript libraries-->
    <script src="/socket.io/socket.io.js"></script>
    <!--script src="https://code.jquery.com/jquery-3.4.1.slim.min.js" integrity="sha384-J6qa4849blE2+poT4WnyKhv5vZF5SrPo0iEjwBvKU7imGFAV0wwj1yYfoRSJoZ+n" crossorigin="anonymous"></script>-->
    <script src="https://code.jquery.com/jquery-3.6.0.js"></script>
    <!--<script src="//cdnjs.cloudflare.com/ajax/libs/socket.io/2.2.0/socket.io.js" integrity="sha256-yr4fRk/GU1ehYJPAs8P4JlTgu0Hdsp4ZKrx8bDEDC3I=" crossorigin="anonymous"></script>-->
    <script src="https://code.jquery.com/ui/1.13.1/jquery-ui.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/3.7.0/chart.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.4.0/highlight.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.4.0/languages/cpp.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/highlightjs-line-numbers.js/dist/highlightjs-line-numbers.min.js"></script>
    <!--<script src="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.65.1/codemirror.min.js" integrity="sha512-UczTlJPfdNqI2hb02wot6lMzwUNtjywtRSz+Ut/Q+aR0/D6tLkIxRB+GgjxjX6PSA+0KrQJuwn4z6J+3EExilg==" crossorigin="anonymous" referrerpolicy="no-referrer"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.65.1/mode/clike/clike.min.js" integrity="sha512-GAled7oA9WlRkBaUQlUEgxm37hf43V2KEMaEiWlvBO/ueP2BLvBLKN5tIJu4VZOTwo6Z4XvrojYngoN9dJw2ug==" crossorigin="anonymous" referrerpolicy="no-referrer"></script>-->
    
    <!-- Custom Javascript code -->
    <script src="js/test_teacher.js" type="text/javascript" charset="utf-8"></script>

    <!-- Favicon-->
    <link rel="apple-touch-icon" sizes="180x180" href="/favicon/apple-touch-icon.png">
    <link rel="icon" type="image/png" sizes="32x32" href="/favicon/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="/favicon/favicon-16x16.png">
    <link rel="manifest" href="/favicon/site.webmanifest">

    <title>CuiQuiz</title>
</head>
<body>
    <!-- Navigation bar -->
    <nav class="navbar navbar-expand-lg navbar-dark bg-dark">
        <a class="navbar-brand" href="/">{ CuiQuiz }</a>        
        <div id="connectionStatus">
            <span class="badge rounded-pill bg-danger text-dark">
                <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-wifi-off" viewBox="0 0 16 16">
                    <path d="M10.706 3.294A12.545 12.545 0 0 0 8 3C5.259 3 2.723 3.882.663 5.379a.485.485 0 0 0-.048.736.518.518 0 0 0 .668.05A11.448 11.448 0 0 1 8 4c.63 0 1.249.05 1.852.148l.854-.854zM8 6c-1.905 0-3.68.56-5.166 1.526a.48.48 0 0 0-.063.745.525.525 0 0 0 .652.065 8.448 8.448 0 0 1 3.51-1.27L8 6zm2.596 1.404.785-.785c.63.24 1.227.545 1.785.907a.482.482 0 0 1 .063.745.525.525 0 0 1-.652.065 8.462 8.462 0 0 0-1.98-.932zM8 10l.933-.933a6.455 6.455 0 0 1 2.013.637c.285.145.326.524.1.75l-.015.015a.532.532 0 0 1-.611.09A5.478 5.478 0 0 0 8 10zm4.905-4.905.747-.747c.59.3 1.153.645 1.685 1.03a.485.485 0 0 1 .047.737.518.518 0 0 1-.668.05 11.493 11.493 0 0 0-1.811-1.07zM9.02 11.78c.238.14.236.464.04.66l-.707.706a.5.5 0 0 1-.707 0l-.707-.707c-.195-.195-.197-.518.04-.66A1.99 1.99 0 0 1 8 11.5c.374 0 .723.102 1.021.28zm4.355-9.905a.53.53 0 0 1 .75.75l-10.75 10.75a.53.53 0 0 1-.75-.75l10.75-10.75z"/>
                </svg>
            </span>
        </div>
        <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarsExampleDefault" aria-controls="navbarsExampleDefault" aria-expanded="false" aria-label="Toggle navigation">
            <span class="navbar-toggler-icon"></span>
        </button>
        <div class="collapse navbar-collapse" id="navbarsExampleDefault">
            <ul class="navbar-nav mr-auto">
              <li class="nav-item">
                <a class="nav-link" href="/">Accueil</a>
            </li>                
            <li class="nav-item">
                <a class="nav-link" href="/a-propos">A propos</a>
            </li>
            </ul>
        </div>
    </nav>

    <!-- Main container of the web page -->
    <div class="container">

      <!-- Notification messages -->
      <div class="row">
        <div class="col-lg-12">
          <div id="notification">
            <div class="alert alert-xxx" role="alert"></div>
          </div>
        </div>
      </div>

      <!-- Screen #-1 : authenticating -->
      <div id="authenticating">
        <h2>Authentication</h2>
        <div class="form-group">
          <label>Your password :</label>
          <input id="teacherPasswordInput" type="password" class="form-control" />
        </div>        
        <button id="teacherPasswordButton" class="btn btn-primary">Let me in</button>
      </div>

      <!-- Screen #0 : choosing the quiz to play -->
      <div id="choosing">
        <h2>Progression list</h2>
        <div id="quizzes">
          <table class="table">
            <thead class="thead-dark">
              <tr>
                <th>Id</th>
                <th>Name</th>
                <th>Description</th>
                <th>Group</th>
                <th>Action</th>
              </tr>
            </thead>
            <tbody id="progressionsTable">
            </tbody>          
          </table>
        </div>

        <h2>Quizzes list</h2>
        <div id="quizzes">
          <table class="table">
            <thead class="thead-dark">
              <tr>
                <th>Id</th>
                <th>Title</th>
                <th>Action</th>
              </tr>
            </thead>
            <tbody id="quizzesTable">
            </tbody>          
          </table>
        </div>
      </div>

      <!-- Screen #1 : naming the player -->
      <div id="naming">
        <h2>Online players (<span id="playersNumber">0</span>) :</h2>
        <div id="players"></div>

        <br />
        <h2>Quiz :</h2>
        <button id="quizStart" class="btn btn-success">Start : <span id="quizTitle">...</span> !</button>
      </div>

      <!-- Screen #2 : playing -->
      <div id="gaming">
        <div id="question">        
          <div class="container">
            <div class="row">
              <div class="col-1 align-self-center">
                <span class="badge badge-pill badge-dark">
                  <h2><span id="questionTimer">59</span></h2>
                </span>
                <button id="endBeforeTimeUp" type="button" class="btn btn-secondary">End</button>
              </div>
              <div class="col-10 align-self-start">
                <div id="questionText"></div>
              </div>
              <div class="col-1 align-self-center">
                <span id="answersNumber">0</span> answer(s)
              </div>              
            </div>

            <div class="row">
              <div class="col">
                <button id="redButton" type="button" class="btn btn-block btn-danger">
                  <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-triangle-fill" viewBox="0 0 16 16">
                    <path fill-rule="evenodd" d="M7.022 1.566a1.13 1.13 0 0 1 1.96 0l6.857 11.667c.457.778-.092 1.767-.98 1.767H1.144c-.889 0-1.437-.99-.98-1.767L7.022 1.566z"/>
                  </svg>
                  <span id="questionAnswer0"></span>
                </button>
              </div>
              <div class="col">
                <button id="blueButton" type="button" class="btn btn-block btn-primary">
                  <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-diamond-fill" viewBox="0 0 16 16">
                    <path fill-rule="evenodd" d="M6.95.435c.58-.58 1.52-.58 2.1 0l6.515 6.516c.58.58.58 1.519 0 2.098L9.05 15.565c-.58.58-1.519.58-2.098 0L.435 9.05a1.482 1.482 0 0 1 0-2.098L6.95.435z"/>
                  </svg>
                  <span id="questionAnswer1"></span>
                </button>
              </div>
            </div>

            <div class="w-100"></div>
            <br />

            <div class="row">
              <div class="col">
                <button id="yelloButton" type="button" class="btn btn-block btn-warning">
                  <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-circle-fill" viewBox="0 0 16 16">
                    <circle cx="8" cy="8" r="8"/>
                  </svg>
                  <span id="questionAnswer2"></span>
                </button>
              </div>
              <div class="col">
                <button id="greenButton" type="button" class="btn btn-block btn-success">
                  <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-square-fill" viewBox="0 0 16 16">
                    <path d="M0 2a2 2 0 0 1 2-2h12a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H2a2 2 0 0 1-2-2V2z"/>
                  </svg>
                  <span id="questionAnswer3"></span>
                </button>
              </div>
            </div>
            <button id="questionDetailsButton" type="button" class="btn btn-secondary">Get question details</button>
          </div>
        </div>
      </div>

      <!-- Screen #3 : checking question's results -->
      <div id="checking">
        <h2>Question results <button id="getLeaderboard" type="button" class="btn btn-secondary">Next</button> <button id="getQuestionAgain" type="button" class="btn btn-secondary">Print question</button></h2>
        <div class="container">
          <div class="row">
            <div class="col-12">
              <div class="card">
                <div class="card-body">
                  <canvas id="chartAnswers" height="400"></canvas>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>

      <!-- Screen #4 : sorting players in a leaderboard -->
      <div id="sorting">
        <h2>Quiz leaderboard <button id="nextQuestion" type="button" class="btn btn-secondary">Next</button></h2>
        <div class="container">
          <div class="row">
            <div class="col-12">
              <table class="table">
                <thead class="thead-dark">
                  <tr>
                    <th>Rank</th>
                    <th>Player</th>
                    <th>Score</th>
                  </tr>
                </thead>
                <tbody id="playersTable">                
                </tbody>          
              </table>
            </div>
          </div>
        </div>
      </div>

      <!-- Screen #5 : quiz is finished, thanks players -->
      <div id="thanking">        
        <div class="container">
          <div class="row">
            <div class="col-12">
              <div class="jumbotron">
                <h1 class="display-4">The end!</h1>
                <p class="lead">Quiz is over. Thanks for playing.</p>
                <hr class="my-4">                
                <p class="lead">
                  <button id="getProgressionLeaderboard" type="button" class="btn btn-secondary">Get</button>
                </p>
              </div>
            </div>
          </div>
        </div>
      </div>

      <!-- Screen #6 : progression leaderboard -->
      <div id="ending">
        <h2>Progression leaderboard</h2>
        <div class="container">
          <div class="row">
            <div class="col-12">
              <table class="table">
                <thead class="thead-dark">
                  <tr>
                    <th>Rank</th>
                    <th>Player</th>
                    <th>Score</th>
                  </tr>
                </thead>
                <tbody id="playersFinalTable">                
                </tbody>          
              </table>
            </div>
          </div>
        </div>
      </div>

      <div id="testing">
        <h2>Testing</h2>
        <button id="quizzes_list_request" type="button" class="btn btn-secondary">quizzes_list_request</button>
        <button id="quizzes_selection_request" type="button" class="btn btn-secondary">quizzes_selection_request</button>
        <button id="remove_player" type="button" class="btn btn-secondary">remove_player</button>
        <button id="question_send_content" type="button" class="btn btn-secondary">question_send_content</button>
        <button id="question_time_end" type="button" class="btn btn-secondary">question_time_end</button>
        <button id="quiz_leaderboard_request" type="button" class="btn btn-secondary">quiz_leaderboard_request</button>
        <button id="remove_rows" type="button" class="btn btn-secondary">remove_rows</button>
      </div>

    </div><!-- /.container -->



    <!-- Some Javascript libraries are loaded at the end -->
    <script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.0/dist/umd/popper.min.js" integrity="sha384-Q6E9RHvbIyZFJoft+2mJbHaEWldlvI9IOYy5n3zV9zzTtmI3UksdQRVvoxMfooAo" crossorigin="anonymous"></script>
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.4.1/js/bootstrap.min.js" integrity="sha384-wfSDF2E50Y2D1uUdj0O3uMBJnjuUD4Ih7YwaYd1iqfktj0Uod8GCExl3Og8ifwB6" crossorigin="anonymous"></script>

</body>
</html>
